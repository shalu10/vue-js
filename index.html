<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1.0">
    <!-- <script src="https://apis.google.com/js/api.js"></script> -->
    <meta name="google-signin-client_id" content="1073395779614-ik21t3s9iiukscqkeftlo7vdja02ored.apps.googleusercontent.com">
    <script src="https://apis.google.com/js/platform.js" async defer></script>
    <title>dextest</title>
</head>

<body>
    <div id="app"></div>
    <!-- built files will be auto injected -->
    <script>
        function onSignIn(googleUser) {
            // Useful data for your client-side scripts:
            var profile = googleUser.getBasicProfile();
            console.log("ID: " + profile.getId()); // Don't send this directly to your server!
            console.log('User Name: ' + profile.getName());
            console.log('Given Name: ' + profile.getGivenName());
            console.log('Family Name: ' + profile.getFamilyName());
            console.log("Image URL: " + profile.getImageUrl());
            console.log("Email: " + profile.getEmail());

            // The ID token you need to pass to your backend:
            var id_token = googleUser.getAuthResponse().id_token;
            console.log("ID Token: " + id_token);
            window.location.href = "#/gverify?token=" + id_token;

            // var xhr = new XMLHttpRequest();
            // xhr.open('POST', 'http://localhost:9999/account/user');
            // xhr.setRequestHeader('Content-Type', 'application/x-www-form-urlencoded');
            // xhr.onload = function() {
            //     console.log('Signed in as: ' + xhr.responseText);
            // };
            // xhr.send('idtoken=' + id_token);
        };

        // function signOut() {
        //     var auth2 = gapi.auth2.getAuthInstance();
        //     auth2.signOut().then(function() {
        //         console.log('User signed out.');
        //     });
        // }
        // function LoadOnce() {
        //     window.location.reload();
        // }

        // function signOut() {
        //     var auth2 = gapi.auth2.getAuthInstance();
        //     auth2.signOut().then(function() {
        //         console.log('User signed out successfully From Dexter!!.');
        //     });
        // }

        // function onSignIn(googleUser) {
        //     // Useful data for your client-side scripts:
        //     var profile = googleUser.getBasicProfile();

        //     console.log('Signed In As :' + profile.getEmail());
        //     // The ID token you need to pass to your backend:
        //     var id_token = googleUser.getAuthResponse().id_token;
        //     window.location.href = "#/account/activate/" + id_token;
        // }
    </script>
</body>

</html>